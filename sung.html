<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Zombie Shooting</title>
  <style>
    canvas {
      background: #111;
      display: block;
      margin: 20px auto;
      border: 2px solid #444;
    }
    body {
      text-align: center;
      color: white;
      font-family: sans-serif;
    }
  </style>
</head>
<body>
  <h1>Zombie Shooting</h1>
  <p>Move mouse to aim. Click to shoot. Stop the zombies!</p>
  <canvas id="gameCanvas" width="600" height="400"></canvas>
  <h2 id="status"></h2>

  <script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");
    const status = document.getElementById("status");

    const gun = {
      x: canvas.width / 2,
      y: canvas.height - 50,
      length: 50,
      angle: -Math.PI / 2
    };

    const zombies = [];
    const zombieCount = 50;

    for (let i = 0; i < zombieCount; i++) {
      zombies.push({
        x: Math.random() * (canvas.width - 40) + 20,
        y: -Math.random() * 300,
        radius: 20,
        speed: 0.5 + Math.random() * 1.5,
        visible: true
      });
    }

    let bullets = [];
    let gameOver = false;

    canvas.addEventListener("mousemove", (e) => {
      const rect = canvas.getBoundingClientRect();
      const mouseX = e.clientX - rect.left;
      const mouseY = e.clientY - rect.top;
      gun.angle = Math.atan2(mouseY - gun.y, mouseX - gun.x);
    });

    canvas.addEventListener("click", () => {
      if (gameOver) return;
      shoot();
    });

    function shoot() {
      const speed = 6;
      bullets.push({
        x: gun.x + Math.cos(gun.angle) * gun.length,
        y: gun.y + Math.sin(gun.angle) * gun.length,
        dx: Math.cos(gun.angle) * speed,
        dy: Math.sin(gun.angle) * speed,
        radius: 4
      });
    }

    function drawGun() {
      ctx.save();
      ctx.translate(gun.x, gun.y);
      ctx.rotate(gun.angle);
      ctx.fillStyle = "gray";
      ctx.fillRect(0, -5, gun.length, 10);
      ctx.restore();
    }

    function drawZombies() {
      ctx.fillStyle = "green";
      zombies.forEach(z => {
        if (!z.visible) return;
        ctx.beginPath();
        ctx.arc(z.x, z.y, z.radius, 0, Math.PI * 2);
        ctx.fill();
      });

    }

    function updateZombies() {
      zombies.forEach(z => {
        if (!z.visible || gameOver) return;
        z.y += z.speed;

        const dx = z.x - gun.x;
        const dy = z.y - gun.y;
        const distance = Math.sqrt(dx * dx + dy * dy);
        if (distance < z.radius + 10) {
          gameOver = true;
          status.textContent = "ðŸ’€ Game Over! A zombie got you!";
        }
      });
    }

    function drawBullets() {
      ctx.fillStyle = "yellow";
      bullets.forEach((b) => {
        ctx.beginPath();
        ctx.arc(b.x, b.y, b.radius, 0, 2 * Math.PI);
        ctx.fill();
      });
    }

    function updateBullets() {
      bullets.forEach((b) => {
        b.x += b.dx;
        b.y += b.dy;
      });
      bullets = bullets.filter((b) => b.x > 0 && b.x < canvas.width && b.y > 0 && b.y < canvas.height);
    }

    function checkHit() {
      zombies.forEach(z => {
        if (!z.visible) return;
        bullets.forEach((b) => {
          const dx = b.x - z.x;
          const dy = b.y - z.y;
          const distance = Math.sqrt(dx * dx + dy * dy);
          if (distance < b.radius + z.radius) {
            z.visible = false;
            setTimeout(() => {
              z.x = Math.random() * (canvas.width - 40) + 20;
              z.y = -30;
              z.visible = true;
            }, 2000);
          }
        });
      });
    }

    function loop() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      if (!gameOver) {
        drawGun();
        drawZombies();
        drawBullets();
        updateBullets();
        updateZombies();
        checkHit();
      }
      requestAnimationFrame(loop);
    }

    loop();
  </script>
</body>
</html>
 